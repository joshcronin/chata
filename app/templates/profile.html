<div class="form">
  <header>
    <nav class="navbar navbar-default" ng-controller="navbar">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-center navbar-brand" href="/#/chatroom">
            <img alt="Chata" src="img/logo.png">
          </a>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li class="chat">
            <a href="/#/chatroom" title="Chatroom"><span class="sr-only">Chatroom</span></a>
          </li>
          <li class="logout">
            <a href="/#/" ng-click="authObj.$signOut()" title="Logout"><span class="sr-only">Logout</span></a>
          </li>
        </ul>
      </div>
    </nav>
    </section>
    <article class="container">
      <section class="page">
        <div class="holder">
			<div class="alert alert-success" ng-show="showSuccessAlert">
			<button type="button" class="close" data-ng-click="switchBool('showSuccessAlert')">×</button> <strong>Done!</strong> {{successTextAlert}}</div>
			<div class="alert alert-danger" ng-show="showFailureAlert">
			<button type="button" class="close" data-ng-click="switchBool('showFailureAlert')">×</button> <strong>Error!</strong> {{failureTextAlert}}</div>
			<div class="alert alert-info" ng-show="showInfoAlert">
			<button type="button" class="close" data-ng-click="switchBool('showInfoAlert')">×</button> <strong>Info:</strong> {{infoTextAlert}}</div>
          <h1>Your Profile</h1>
          <form method="POST" name='profile' ng-submit="updateUser()" class="outline">
            <p class="text-danger" ng-if="error.show"><small>{{error.message}}</small></p>
            <p>Profile Picture</p>
            <div class="form-group">
              <img id="uploadedPicture" src="{{user.profileUrl}}" />
              <div id="uploadBtn" class="btn btn-success" ng-click="getFile()">Click To Upload</div>
              <div id="hiddenFileUploader">
                <input id="upfile" type="file" value="upload" ngf-select="uploadFiles($file, $invalidFiles)" ng-model="user.picture" />
              </div>
            </div>
            <br>
            <div class="form-group">
              <label class="sr-only" for="loginEmail">Email</label>
              <input type="email" name="email" class="form-control" id="loginEmail" placeholder="Email" ng-model="user.email" required>
              <div ng-show="profile.$submitted || profile.email.$touched">
                <span ng-show="profile.email.$error.required">Tell us your email.</span>
                <span ng-show="profile.email.$error.email">This is not a valid email.</span>
              </div>
            </div>
            <div class="form-group">
              <label class="sr-only" for="username">Display Name</label>
              <input placeholder="Display Name" name="displayName" type="text" class="form-control" id="username" ng-model="user.username" required>
              <div ng-show="profile.$submitted || profile.displayName.$touched">
                <div ng-show="profile.displayName.$error.required">Tell us your username.</div>
              </div>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-success pull-right" ng-disabled="profile.$invalid">Save Changes</button>
            </div>
            <br />
            <br />
          </form>
          <div class="form-group change-password">
            <label class="short-width" for="loginPassword">Current Password:</label><label>• • • • • • • •</label>
            <button class="btn btn-success pull-right" id="passwordToggle" onClick="togglePasswordForm()">Change</button>
          </div>
          <div id="hidden1">
          <form method="POST" name='changePassword' ng-submit="updatePassword()" class="outline">
            <p class="text-danger" ng-if="error.show"><small>{{error.message}}</small></p>
            <div class="two-col">
              <div class="form-group col1">
                <label class="sr-only" for="newPassword">New Password</label>
                <input type="password" ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/" class="form-control" id="newPassword" placeholder="New Password" ng-model="password.newPass" name="newPass" required>
                <div ng-show="changePassword.$submitted || changePassword.newPass.$touched">
                  <span ng-show="changePassword.newPass.$error.required">Enter your new password.</span>
                  <span ng-show="changePassword.newPass.$error.pattern">Password must have 8 character, 1 letter and 1 number.</span>
                </div>
              </div>
              <div class="form-group col2">
                <label class="sr-only" for="confirmPassword">Confirm Password</label>
                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Password" compare-to="password.newPass" ng-model="password.conPass" name="conPass" required>
                <div ng-show="changePassword.$submitted || (changePassword.conPass.$touched && changePassword.newPass.$touched)">
                  <div ng-show="changePassword.$submitted || (changePassword.conPass.$touched && changePassword.newPass.$touched)">
                    <div ng-show="changePassword.conPass.$error.compareTo">Passwords must match.</div>
                  </div>
                </div>
              </div>
            </div>
            <br>
            <div class="form-group">
              <button type="submit" class="btn btn-success pull-right" ng-disabled="changePassword.$invalid">Confirm</button>
            </div>
          </form>
        </div>
        </div>
      </section>
      <footer></footer>
    </article>
